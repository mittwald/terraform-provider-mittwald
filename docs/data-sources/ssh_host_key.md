---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mittwald_ssh_host_key Data Source - terraform-provider-mittwald"
subcategory: ""
description: |-
  Fetches the SSH host key from a mittwald server.
---

# mittwald_ssh_host_key (Data Source)

Fetches the SSH host key from a mittwald server. This is useful for configuring known hosts in CI/CD systems like Bitbucket Pipelines without manual `ssh-keyscan` steps.

## Example Usage

```terraform
# Fetch the SSH host key from a mittwald app's SSH host
data "mittwald_ssh_host_key" "main" {
  hostname = mittwald_app.api.ssh_host
}

# Use the host key in a Bitbucket known host configuration
resource "bitbucket_pipeline_ssh_known_host" "mittwald" {
  workspace  = "my-workspace"
  repository = "my-repo"
  hostname   = "[${mittwald_app.api.ssh_host}]:22"

  public_key {
    key_type = data.mittwald_ssh_host_key.main.key_type
    key      = data.mittwald_ssh_host_key.main.key
  }
}

# Output the fingerprint for verification
output "ssh_host_fingerprint" {
  value = data.mittwald_ssh_host_key.main.fingerprint
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `hostname` (String) The SSH hostname to fetch the host key from (e.g., `ssh.xxx.mittwald.net`). Use `mittwald_app.<name>.ssh_host` to get this automatically.

### Optional

- `port` (Number) The SSH port. Defaults to `22`.

### Read-Only

- `fingerprint` (String) The SHA256 fingerprint of the host key.
- `key` (String) The host's public key in base64 format (without the key type prefix).
- `key_type` (String) The type of the host key (e.g., `ssh-ed25519`, `ssh-rsa`, `ecdsa-sha2-nistp256`).
